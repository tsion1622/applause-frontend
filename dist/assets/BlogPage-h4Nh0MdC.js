import{j as e,L as c,b as n}from"./index-C033NPT0.js";import{u as m}from"./useQuery-O-qZ9aku.js";import{C as d,c as o,d as g,a as h}from"./Card-BcSRCw2q.js";import{S as r}from"./Skeleton-LpP_0_DL.js";const x=async()=>{const{data:s}=await n.get("/blog/posts/?published=true");return s},N=()=>{const{data:s,isLoading:t,isError:i}=m({queryKey:["publishedBlogPosts"],queryFn:x});return e.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Our Blog"}),t&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:3}).map((a,l)=>e.jsxs(d,{children:[e.jsx(r,{className:"h-48 w-full"}),e.jsxs(o,{children:[e.jsx(r,{className:"h-8 w-3/4 mb-2"}),e.jsx(r,{className:"h-4 w-1/2"})]})]},l))}),i&&e.jsx("p",{className:"text-center text-red-500",children:"Failed to load blog posts. Please try again later."}),!t&&!i&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s==null?void 0:s.map(a=>{var l;return e.jsx(c,{to:`/blog/${a.id}`,className:"block hover:shadow-lg transition-shadow rounded-lg",children:e.jsxs(d,{className:"h-full",children:[a.main_image_url&&e.jsx("img",{src:a.main_image_url,alt:a.title,className:"w-full h-48 object-cover rounded-t-lg"}),e.jsx(o,{children:e.jsx(g,{children:a.title})}),e.jsx(h,{children:e.jsxs("p",{className:"text-gray-500",children:["By ",((l=a.author)==null?void 0:l.username)||"Applaude Team"," on ",new Date(a.created_at).toLocaleDateString()]})})]})},a.id)})})]})};export{N as default};

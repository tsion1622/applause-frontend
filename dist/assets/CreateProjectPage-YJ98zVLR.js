import{u as x,j as e,B as p,b as h}from"./index-C033NPT0.js";import{u as f,F as P,a as o,b as n,c,d as i,e as l,t as g,o as C,s as m}from"./form-BEdHVrYh.js";import{u as b}from"./useMutation-BBYY9Llb.js";import{I as u}from"./Input-CsQmvcEd.js";import{C as F,c as y,d as N,a as S}from"./Card-BcSRCw2q.js";import{u as d}from"./index-b5uPlb3-.js";const v=C({name:m().min(2,{message:"Project name must be at least 2 characters."}),source_url:m().url({message:"Please enter a valid URL."})}),w=async t=>(await h.post("/projects/",t)).data,B=()=>{const t=x(),r=b({mutationFn:w,onSuccess:s=>{d.success("Project created successfully!"),t(`/project/${s.id}`)},onError:s=>{console.error("Project creation failed:",s),d.error("Project creation failed. Please try again.")}}),a=f({resolver:g(v),defaultValues:{name:"",source_url:""}}),j=s=>{r.mutate(s)};return e.jsx("div",{className:"container mx-auto flex items-center justify-center p-4",children:e.jsxs(F,{className:"w-full max-w-2xl",children:[e.jsx(y,{children:e.jsx(N,{className:"text-2xl",children:"Create a New Project"})}),e.jsx(S,{children:e.jsx(P,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),className:"space-y-8",children:[e.jsx(o,{control:a.control,name:"name",render:({field:s})=>e.jsxs(n,{children:[e.jsx(c,{children:"Project Name"}),e.jsx(i,{children:e.jsx(u,{placeholder:"My Awesome Project",...s})}),e.jsx(l,{})]})}),e.jsx(o,{control:a.control,name:"source_url",render:({field:s})=>e.jsxs(n,{children:[e.jsx(c,{children:"Source URL"}),e.jsx(i,{children:e.jsx(u,{placeholder:"https://github.com/user/repo",...s})}),e.jsx(l,{})]})}),e.jsx(p,{type:"submit",disabled:r.isPending,children:r.isPending?"Creating...":"Create Project"})]})})})]})})};export{B as default};

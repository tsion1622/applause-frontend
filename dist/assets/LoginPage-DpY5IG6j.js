import{a as p,u as g,j as e,B as j,L as f,b}from"./index-C033NPT0.js";import{u as w,F as y,a as o,b as t,c as n,d as i,e as l,t as L,o as S,s as c}from"./form-BEdHVrYh.js";import{I as m}from"./Input-CsQmvcEd.js";import{u as d}from"./index-b5uPlb3-.js";const F=S({email:c().email({message:"Please enter a valid email address."}),password:c().min(1,{message:"Password is required."})}),k=()=>{const{login:u}=p(),x=g(),s=w({resolver:L(F),defaultValues:{email:"",password:""}}),h=async a=>{try{const r=await b.post("/users/token/",a);await u(r.data.access,r.data.refresh),d.success("Login successful!"),x("/dashboard")}catch(r){console.error("Login failed:",r),d.error("Login failed. Please check your credentials.")}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login to Applaude"}),e.jsx(y,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-6",children:[e.jsx(o,{control:s.control,name:"email",render:({field:a})=>e.jsxs(t,{children:[e.jsx(n,{children:"Email"}),e.jsx(i,{children:e.jsx(m,{placeholder:"Enter your email",...a})}),e.jsx(l,{})]})}),e.jsx(o,{control:s.control,name:"password",render:({field:a})=>e.jsxs(t,{children:[e.jsx(n,{children:"Password"}),e.jsx(i,{children:e.jsx(m,{type:"password",placeholder:"Enter your password",...a})}),e.jsx(l,{})]})}),e.jsx(j,{type:"submit",className:"w-full",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Logging in...":"Login"})]})}),e.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Don't have an account?"," ",e.jsx(f,{to:"/signup",className:"font-medium text-indigo-600 hover:underline",children:"Sign Up"})]})]})})};export{k as default};
